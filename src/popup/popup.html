<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FileList Monitor</title>
    <link rel="stylesheet" href="popup.css">
</head>
<body class="w-[360px] min-h-[400px] bg-dark text-white font-sans">
    <div class="p-4 space-y-4">
        <!-- Header -->
        <div class="flex items-center justify-between">
            <h1 class="text-lg font-semibold tracking-tight">FileList Monitor</h1>
            <div id="status" class="flex items-center gap-1.5 text-xs text-white/50">
                <span id="status-dot" class="w-2 h-2 rounded-full bg-white/20"></span>
                <span id="last-check">â€”</span>
            </div>
        </div>

        <!-- Add series -->
        <div class="flex gap-2">
            <input id="series-input" type="text" placeholder="Series name..."
                class="flex-1 px-3 py-2 rounded-lg bg-surface border border-surface-border
                       text-sm text-white placeholder-white/30 outline-none
                       focus:border-accent focus:shadow-[0_0_8px_rgba(99,102,241,0.3)]
                       transition-all backdrop-blur-md">
            <button id="strict-toggle" title="Strict: season packs only"
                class="px-2 py-2 rounded-lg bg-surface border border-surface-border text-xs
                       text-white/30 hover:text-white/50 transition-all">
                S
            </button>
            <button id="add-btn"
                class="px-4 py-2 rounded-lg bg-accent text-sm font-medium
                       hover:shadow-[0_0_12px_rgba(99,102,241,0.5)] active:scale-95
                       transition-all">
                Add
            </button>
        </div>

        <!-- Series list -->
        <div id="series-list" class="space-y-2"></div>
        <div id="empty-state" class="hidden text-center py-8 text-white/30 text-sm">
            No series tracked yet. Add one above.
        </div>

        <!-- Settings -->
        <details class="group">
            <summary class="text-xs text-white/40 cursor-pointer hover:text-white/60 transition-colors">
                Settings
            </summary>
            <div class="mt-3 space-y-3 p-3 rounded-lg bg-surface border border-surface-border backdrop-blur-md">
                <div>
                    <label class="block text-xs text-white/50 mb-1">Username</label>
                    <input id="username-input" type="text"
                        class="w-full px-2 py-1.5 rounded bg-dark text-xs text-white/80
                               border border-surface-border outline-none
                               focus:border-accent transition-colors font-mono">
                </div>
                <div>
                    <label class="block text-xs text-white/50 mb-1">Passkey</label>
                    <input id="passkey-input" type="password"
                        class="w-full px-2 py-1.5 rounded bg-dark text-xs text-white/80
                               border border-surface-border outline-none
                               focus:border-accent transition-colors font-mono">
                </div>
                <div class="flex justify-end">
                    <button id="save-creds"
                        class="px-2 py-1.5 rounded bg-surface-hover text-xs
                               hover:bg-accent/30 transition-colors">
                        Save
                    </button>
                </div>
                <div>
                    <label class="block text-xs text-white/50 mb-1">Poll interval</label>
                    <select id="poll-interval"
                        class="w-full px-2 py-1.5 rounded bg-dark text-xs text-white/80
                               border border-surface-border outline-none
                               focus:border-accent transition-colors">
                        <option value="5">5 minutes</option>
                        <option value="10" selected>10 minutes</option>
                        <option value="15">15 minutes</option>
                        <option value="30">30 minutes</option>
                        <option value="60">60 minutes</option>
                    </select>
                </div>
            </div>
        </details>
    </div>
    <script type="module" src="popup.ts"></script>
</body>
</html>